$(function(){function e(){var e;clearInterval(v),v=setInterval(function(){e=f+1,e=e>$(".sliderBanner ol li").length-1?0:e,$(".sliderBanner ol li").eq(e).addClass("active").siblings().removeClass("active"),n(e,!1)},3e3)}function n(e,n){i(n,e,$(".sliderBanner ol li").length-1),clearTimeout(c),c=setTimeout(function(){s(e,$(".sliderBanner ol li").length-1)},600)}function i(e,n,i){if(n-f>1)n-f!=i||e?(r=n-1,o=f,u=n):(r=i,o=f,u=f+1);else if(-1>n-f)n-f!=-i||e?(r=n,o=f,u=n+1):(r=f-1,o=f,u=0);else if(n>f)r=0>=f?i:0,o=f,u=n;else{if(!(f>n))return;r=n,o=f,u=f>=i?0:i}a(r,o,u),t(e,n,f)}function s(e,n){0>=e?(r=n,o=e,u=e+1):e>=n?(r=e-1,o=e,u=0):(r=e-1,o=e,u=e+1),a(r,o,u),f=e}function a(e,n,i){$(".sliderBanner ul").css({transition:"transform 0s ease-in-out",transform:"translate3D(0,0,0)"}),$(".sliderBanner ul li").eq(e).addClass("prev").siblings().removeClass("prev"),$(".sliderBanner ul li").eq(n).addClass("active").siblings().removeClass("active"),$(".sliderBanner ul li").eq(i).addClass("next").siblings().removeClass("next")}function t(e,n,i){m=!0,d=n>i?"-100%":"100%",e||(d=0==n&&f==$(".sliderBanner ol li").length-1?"-100%":d,d=n==$(".sliderBanner ol li").length-1&&0==f?"100%":d),$(".sliderBanner ul").css({transition:"transform .6s ease-in-out",transform:"translate3D("+d+",0,0)"}),setTimeout(function(){m=!1},700)}function l(){var e;h-B>20?(autoIndex=f-1,autoIndex=autoIndex<0?$(".sliderBanner ol li").length-1:autoIndex,$(".sliderBanner ol li").eq(autoIndex).addClass("active").siblings().removeClass("active"),n(autoIndex,!1)):-20>h-B?(e=f+1,e=e>$(".sliderBanner ol li").length-1?0:e,$(".sliderBanner ol li").eq(e).addClass("active").siblings().removeClass("active"),n(e,!1)):$(".sliderBanner ul").css({transition:"transform .6s ease-in-out",transform:"translate3D(0,0,0)"})}var r,o,u,d,c,v,f=$(".sliderBanner ol li.active").index(),m=!1;e(),$(".sliderBanner").mouseover(function(){clearInterval(v)}).mouseout(function(){e()}),$(".sliderBanner ol li").click(function(){if(!m){var e=$(this).index();$(this).addClass("active").siblings().removeClass("active"),n(e,!0)}});var B,g,h,x,C;$(".sliderBanner").mousedown(function(e){e.preventDefault(),m||(B=h=e.originalEvent.x||e.originalEvent.layerX||0,g=x=e.originalEvent.y||e.originalEvent.layerY||0,C=!0)}),$(".sliderBanner").mouseup(function(e){C&&(l(),C=!1)}),$(".sliderBanner").mouseleave(function(e){C&&(l(),C=!1)}),$(".sliderBanner").mousemove(function(e){C&&(h=e.originalEvent.x||e.originalEvent.layerX||0,x=e.originalEvent.y||e.originalEvent.layerY||0,$(".sliderBanner ul").css({transition:"transform 0s ease-in-out",transform:"translate3D("+(h-B)+"px,0,0)"}))});var E=document.getElementById("sliderBanner");E.addEventListener("touchstart",function(e){m||(clearInterval(v),B=h=e.touches[0].clientX,g=x=e.touches[0].clientY,C=!0)},!1),E.addEventListener("touchmove",function(e){C&&(e.preventDefault(),h=e.changedTouches[0].clientX,x=e.changedTouches[0].clientY,$(".sliderBanner ul").css({transition:"transform 0s ease-in-out",transform:"translate3D("+(h-B)+"px,0,0)"}))},!1),E.addEventListener("touchend",function(n){C&&(e(),B!=h&&(l(),C=!1))},!1)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhbm5lci5qcyJdLCJuYW1lcyI6WyIkIiwiYXV0b01vdmUiLCJhdXRvSW5kZXgiLCJjbGVhckludGVydmFsIiwidGltZXJCIiwic2V0SW50ZXJ2YWwiLCJjdXJyZW50IiwibGVuZ3RoIiwiZXEiLCJhZGRDbGFzcyIsInNpYmxpbmdzIiwicmVtb3ZlQ2xhc3MiLCJkb0Z1biIsImluZGV4IiwiaXNCb29sIiwidmlld1NsaWRlciIsImNsZWFyVGltZW91dCIsInRpbWVyQSIsInNldFRpbWVvdXQiLCJyZW5kZXJTbGlkZXIiLCJpc2Jvb2wiLCJpbmRleFZhbHVlIiwibWF4SW5kZXgiLCJwcmV2SW5kZXgiLCJhY3RpdmVJbmRleCIsIm5leHRJbmRleCIsInVwZGF0YUNsYXNzIiwibW92ZVNsaWRlciIsImluZGV4UmVuZGVyIiwicHJldlVwIiwiYWN0aXZlVXAiLCJuZXh0VXAiLCJjc3MiLCJ0cmFuc2l0aW9uIiwidHJhbnNmb3JtIiwiaW5kZXhNb3ZlIiwiY3VycmVudE1vdmUiLCJpc01vdmUiLCJzdGVwIiwidG91Y2hNb3ZlIiwidG91Y2hJbmRleCIsIkJlbmRYIiwiQnN0YXJYIiwibW91c2VvdmVyIiwibW91c2VvdXQiLCJjbGljayIsImJJbmRleCIsInRoaXMiLCJCc3RhclkiLCJCZW5kWSIsImxpc3RlbmluZyIsIm1vdXNlZG93biIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIm9yaWdpbmFsRXZlbnQiLCJ4IiwibGF5ZXJYIiwieSIsImxheWVyWSIsIm1vdXNldXAiLCJtb3VzZWxlYXZlIiwibW91c2Vtb3ZlIiwiQmFubmVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsImNoYW5nZWRUb3VjaGVzIl0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRSxXQXNCRSxRQUFTQyxLQUNMLEdBQUlDLEVBQ0pDLGVBQWNDLEdBQ2RBLEVBQVNDLFlBQVksV0FDakJILEVB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b0JnQyxLQUNsQkMsV0FBYywyQkFDZEMsVUFBYSxnQkFBa0JPLEVBQVFDLEdBQVUsY0F5QjdELElBQUlvQixHQUFTQyxTQUFTQyxlQUFlLGVBQ3JDRixHQUFPRyxpQkFBaUIsYUFBYyxTQUFTQyxHQUN2QzdCLElBQ0psQyxjQUFjQyxHQUNkc0MsRUFBU0QsRUFBUXlCLEVBQU1DLFFBQVEsR0FBR0MsUUFDbENwQixFQUFTQyxFQUFRaUIsRUFBTUMsUUFBUSxHQUFHRSxRQUNsQ25CLEdBQVksS0FDYixHQUNIWSxFQUFPRyxpQkFBaUIsWUFBYSxTQUFTQyxHQUN0Q2hCLElBQ0FnQixFQUFNYixpQkFDTlosRUFBUXlCLEVBQU1JLGVBQWUsR0FBR0YsUUFDaENuQixFQUFRaUIsRUFBTUksZUFBZSxHQUFHRCxRQUNoQ3JFLEVBQUUsb0JBQW9CZ0MsS0FDbEJDLFdBQWMsMkJBQ2RDLFVBQWEsZ0JBQWtCTyxFQUFRQyxHQUFVLGVBRzFELEdBQ0hvQixFQUFPRyxpQkFBaUIsV0FBWSxTQUFTQyxHQUNyQ2hCLElBQ0FqRCxJQUNJeUMsR0FBVUQsSUFDVkYsSUFDQVcsR0FBWSxNQUdyQiIsImZpbGUiOiJiYW5uZXIubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJChmdW5jdGlvbigpIHtcclxuICAgIHZhciBjdXJyZW50ID0gJCgnLnNsaWRlckJhbm5lciBvbCBsaS5hY3RpdmUnKS5pbmRleCgpLFxyXG4gICAgICAgIHByZXZJbmRleCxcclxuICAgICAgICBhY3RpdmVJbmRleCxcclxuICAgICAgICBuZXh0SW5kZXgsXHJcbiAgICAgICAgc3RlcCxcclxuICAgICAgICB0aW1lckEsXHJcbiAgICAgICAgdGltZXJCLFxyXG4gICAgICAgIGlzTW92ZSA9IGZhbHNlO1xyXG4gICAgYXV0b01vdmUoKTtcclxuICAgICQoJy5zbGlkZXJCYW5uZXInKS5tb3VzZW92ZXIoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lckIpO1xyXG4gICAgfSkubW91c2VvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgYXV0b01vdmUoKTtcclxuICAgIH0pO1xyXG4gICAgJCgnLnNsaWRlckJhbm5lciBvbCBsaScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmIChpc01vdmUpIHJldHVybjtcclxuICAgICAgICB2YXIgYkluZGV4ID0gJCh0aGlzKS5pbmRleCgpO1xyXG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIGRvRnVuKGJJbmRleCwgdHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBhdXRvTW92ZSgpIHtcclxuICAgICAgICB2YXIgYXV0b0luZGV4O1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJCKTtcclxuICAgICAgICB0aW1lckIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgYXV0b0luZGV4ID0gY3VycmVudCArIDE7XHJcbiAgICAgICAgICAgIGF1dG9JbmRleCA9IChhdXRvSW5kZXggPiAkKCcuc2xpZGVyQmFubmVyIG9sIGxpJykubGVuZ3RoIC0gMSkgPyAwIDogYXV0b0luZGV4O1xyXG4gICAgICAgICAgICAkKCcuc2xpZGVyQmFubmVyIG9sIGxpJykuZXEoYXV0b0luZGV4KS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGRvRnVuKGF1dG9JbmRleCwgZmFsc2UpO1xyXG4gICAgICAgIH0sIDMwMDApXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZG9GdW4oaW5kZXgsIGlzQm9vbCkge1xyXG4gICAgICAgIHZpZXdTbGlkZXIoaXNCb29sLCBpbmRleCwgJCgnLnNsaWRlckJhbm5lciBvbCBsaScpLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lckEpO1xyXG4gICAgICAgIHRpbWVyQSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJlbmRlclNsaWRlcihpbmRleCwgJCgnLnNsaWRlckJhbm5lciBvbCBsaScpLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgIH0sIDYwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdmlld1NsaWRlcihpc2Jvb2wsIGluZGV4VmFsdWUsIG1heEluZGV4KSB7XHJcbiAgICAgICAgaWYgKGluZGV4VmFsdWUgLSBjdXJyZW50ID4gMSkge1xyXG4gICAgICAgICAgICBpZiAoaW5kZXhWYWx1ZSAtIGN1cnJlbnQgPT0gbWF4SW5kZXggJiYgIWlzYm9vbCkge1xyXG4gICAgICAgICAgICAgICAgcHJldkluZGV4ID0gbWF4SW5kZXg7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVJbmRleCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICBuZXh0SW5kZXggPSBjdXJyZW50ICsgMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHByZXZJbmRleCA9IGluZGV4VmFsdWUgLSAxO1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlSW5kZXggPSBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgbmV4dEluZGV4ID0gaW5kZXhWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXhWYWx1ZSAtIGN1cnJlbnQgPCAtMSkge1xyXG4gICAgICAgICAgICBpZiAoaW5kZXhWYWx1ZSAtIGN1cnJlbnQgPT0gLW1heEluZGV4ICYmICFpc2Jvb2wpIHtcclxuICAgICAgICAgICAgICAgIHByZXZJbmRleCA9IGN1cnJlbnQgLSAxO1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlSW5kZXggPSBjdXJyZW50O1xyXG4gICAgICAgICAgICAgICAgbmV4dEluZGV4ID0gMDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHByZXZJbmRleCA9IGluZGV4VmFsdWU7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVJbmRleCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICBuZXh0SW5kZXggPSBpbmRleFZhbHVlICsgMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXhWYWx1ZSA+IGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgcHJldkluZGV4ID0gKGN1cnJlbnQgPD0gMCkgPyBtYXhJbmRleCA6IDA7XHJcbiAgICAgICAgICAgIGFjdGl2ZUluZGV4ID0gY3VycmVudDtcclxuICAgICAgICAgICAgbmV4dEluZGV4ID0gaW5kZXhWYWx1ZTtcclxuICAgICAgICB9IGVsc2UgaWYgKGluZGV4VmFsdWUgPCBjdXJyZW50KSB7XHJcbiAgICAgICAgICAgIHByZXZJbmRleCA9IGluZGV4VmFsdWU7XHJcbiAgICAgICAgICAgIGFjdGl2ZUluZGV4ID0gY3VycmVudDtcclxuICAgICAgICAgICAgbmV4dEluZGV4ID0gKGN1cnJlbnQgPj0gbWF4SW5kZXgpID8gMCA6IG1heEluZGV4O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXBkYXRhQ2xhc3MocHJldkluZGV4LCBhY3RpdmVJbmRleCwgbmV4dEluZGV4KTtcclxuICAgICAgICBtb3ZlU2xpZGVyKGlzYm9vbCwgaW5kZXhWYWx1ZSwgY3VycmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVuZGVyU2xpZGVyKGluZGV4UmVuZGVyLCBtYXhJbmRleCkge1xyXG4gICAgICAgIGlmIChpbmRleFJlbmRlciA8PSAwKSB7XHJcbiAgICAgICAgICAgIHByZXZJbmRleCA9IG1heEluZGV4O1xyXG4gICAgICAgICAgICBhY3RpdmVJbmRleCA9IGluZGV4UmVuZGVyO1xyXG4gICAgICAgICAgICBuZXh0SW5kZXggPSBpbmRleFJlbmRlciArIDE7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleFJlbmRlciA+PSBtYXhJbmRleCkge1xyXG4gICAgICAgICAgICBwcmV2SW5kZXggPSBpbmRleFJlbmRlciAtIDE7XHJcbiAgICAgICAgICAgIGFjdGl2ZUluZGV4ID0gaW5kZXhSZW5kZXI7XHJcbiAgICAgICAgICAgIG5leHRJbmRleCA9IDA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcHJldkluZGV4ID0gaW5kZXhSZW5kZXIgLSAxO1xyXG4gICAgICAgICAgICBhY3RpdmVJbmRleCA9IGluZGV4UmVuZGVyO1xyXG4gICAgICAgICAgICBuZXh0SW5kZXggPSBpbmRleFJlbmRlciArIDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVwZGF0YUNsYXNzKHByZXZJbmRleCwgYWN0aXZlSW5kZXgsIG5leHRJbmRleCk7XHJcbiAgICAgICAgY3VycmVudCA9IGluZGV4UmVuZGVyO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0YUNsYXNzKHByZXZVcCwgYWN0aXZlVXAsIG5leHRVcCkge1xyXG4gICAgICAgICQoJy5zbGlkZXJCYW5uZXIgdWwnKS5jc3Moe1xyXG4gICAgICAgICAgICAndHJhbnNpdGlvbic6ICd0cmFuc2Zvcm0gMHMgZWFzZS1pbi1vdXQnLFxyXG4gICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZTNEKDAsMCwwKSdcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcuc2xpZGVyQmFubmVyIHVsIGxpJykuZXEocHJldlVwKS5hZGRDbGFzcygncHJldicpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ3ByZXYnKTtcclxuICAgICAgICAkKCcuc2xpZGVyQmFubmVyIHVsIGxpJykuZXEoYWN0aXZlVXApLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAkKCcuc2xpZGVyQmFubmVyIHVsIGxpJykuZXEobmV4dFVwKS5hZGRDbGFzcygnbmV4dCcpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ25leHQnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtb3ZlU2xpZGVyKGlzYm9vbCwgaW5kZXhNb3ZlLCBjdXJyZW50TW92ZSkge1xyXG4gICAgICAgIGlzTW92ZSA9IHRydWU7XHJcbiAgICAgICAgc3RlcCA9IGluZGV4TW92ZSA+IGN1cnJlbnRNb3ZlID8gJy0xMDAlJyA6ICcxMDAlJztcclxuICAgICAgICBpZiAoIWlzYm9vbCkge1xyXG4gICAgICAgICAgICBzdGVwID0gKGluZGV4TW92ZSA9PSAwICYmIGN1cnJlbnQgPT0gJCgnLnNsaWRlckJhbm5lciBvbCBsaScpLmxlbmd0aCAtIDEpID8gJy0xMDAlJyA6IHN0ZXA7XHJcbiAgICAgICAgICAgIHN0ZXAgPSAoaW5kZXhNb3ZlID09ICQoJy5zbGlkZXJCYW5uZXIgb2wgbGknKS5sZW5ndGggLSAxICYmIGN1cnJlbnQgPT0gMCkgPyAnMTAwJScgOiBzdGVwO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKCcuc2xpZGVyQmFubmVyIHVsJykuY3NzKHtcclxuICAgICAgICAgICAgJ3RyYW5zaXRpb24nOiAndHJhbnNmb3JtIC42cyBlYXNlLWluLW91dCcsXHJcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlM0QoJyArIHN0ZXAgKyAnLDAsMCknXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaXNNb3ZlID0gZmFsc2U7XHJcbiAgICAgICAgfSwgNzAwKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgQnN0YXJYLFxyXG4gICAgICAgIEJzdGFyWSxcclxuICAgICAgICBCZW5kWCxcclxuICAgICAgICBCZW5kWSxcclxuICAgICAgICBsaXN0ZW5pbmc7XHJcbiAgICAkKCcuc2xpZGVyQmFubmVyJykubW91c2Vkb3duKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaWYgKGlzTW92ZSkgcmV0dXJuO1xyXG4gICAgICAgIEJzdGFyWCA9IEJlbmRYID0gZS5vcmlnaW5hbEV2ZW50LnggfHwgZS5vcmlnaW5hbEV2ZW50LmxheWVyWCB8fCAwO1xyXG4gICAgICAgIEJzdGFyWSA9IEJlbmRZID0gZS5vcmlnaW5hbEV2ZW50LnkgfHwgZS5vcmlnaW5hbEV2ZW50LmxheWVyWSB8fCAwO1xyXG4gICAgICAgIGxpc3RlbmluZyA9IHRydWU7XHJcbiAgICB9KTtcclxuICAgICQoJy5zbGlkZXJCYW5uZXInKS5tb3VzZXVwKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZiAobGlzdGVuaW5nKSB7XHJcbiAgICAgICAgICAgIHRvdWNoTW92ZSgpO1xyXG4gICAgICAgICAgICBsaXN0ZW5pbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgICQoJy5zbGlkZXJCYW5uZXInKS5tb3VzZWxlYXZlKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZiAobGlzdGVuaW5nKSB7XHJcbiAgICAgICAgICAgIHRvdWNoTW92ZSgpO1xyXG4gICAgICAgICAgICBsaXN0ZW5pbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgICQoJy5zbGlkZXJCYW5uZXInKS5tb3VzZW1vdmUoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmIChsaXN0ZW5pbmcpIHtcclxuICAgICAgICAgICAgQmVuZFggPSBlLm9yaWdpbmFsRXZlbnQueCB8fCBlLm9yaWdpbmFsRXZlbnQubGF5ZXJYIHx8IDA7XHJcbiAgICAgICAgICAgIEJlbmRZID0gZS5vcmlnaW5hbEV2ZW50LnkgfHwgZS5vcmlnaW5hbEV2ZW50LmxheWVyWSB8fCAwO1xyXG4gICAgICAgICAgICAkKCcuc2xpZGVyQmFubmVyIHVsJykuY3NzKHtcclxuICAgICAgICAgICAgICAgICd0cmFuc2l0aW9uJzogJ3RyYW5zZm9ybSAwcyBlYXNlLWluLW91dCcsXHJcbiAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZTNEKCcgKyAoQmVuZFggLSBCc3RhclgpICsgJ3B4LDAsMCknXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHRvdWNoTW92ZSgpIHtcclxuICAgICAgICB2YXIgdG91Y2hJbmRleDtcclxuICAgICAgICBpZiAoKEJlbmRYIC0gQnN0YXJYKSA+IDIwKSB7XHJcbiAgICAgICAgICAgIGF1dG9JbmRleCA9IGN1cnJlbnQgLSAxO1xyXG4gICAgICAgICAgICBhdXRvSW5kZXggPSAoYXV0b0luZGV4IDwgMCkgPyAkKCcuc2xpZGVyQmFubmVyIG9sIGxpJykubGVuZ3RoIC0gMSA6IGF1dG9JbmRleDtcclxuICAgICAgICAgICAgJCgnLnNsaWRlckJhbm5lciBvbCBsaScpLmVxKGF1dG9JbmRleCkuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICBkb0Z1bihhdXRvSW5kZXgsIGZhbHNlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKChCZW5kWCAtIEJzdGFyWCkgPCAtMjApIHtcclxuICAgICAgICAgICAgdG91Y2hJbmRleCA9IGN1cnJlbnQgKyAxO1xyXG4gICAgICAgICAgICB0b3VjaEluZGV4ID0gKHRvdWNoSW5kZXggPiAkKCcuc2xpZGVyQmFubmVyIG9sIGxpJykubGVuZ3RoIC0gMSkgPyAwIDogdG91Y2hJbmRleDtcclxuICAgICAgICAgICAgJCgnLnNsaWRlckJhbm5lciBvbCBsaScpLmVxKHRvdWNoSW5kZXgpLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgZG9GdW4odG91Y2hJbmRleCwgZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoJy5zbGlkZXJCYW5uZXIgdWwnKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgJ3RyYW5zaXRpb24nOiAndHJhbnNmb3JtIC42cyBlYXNlLWluLW91dCcsXHJcbiAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZTNEKDAsMCwwKSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBCYW5uZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2xpZGVyQmFubmVyJyk7XHJcbiAgICBCYW5uZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBpZiAoaXNNb3ZlKSByZXR1cm47XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lckIpO1xyXG4gICAgICAgIEJzdGFyWCA9IEJlbmRYID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xyXG4gICAgICAgIEJzdGFyWSA9IEJlbmRZID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZO1xyXG4gICAgICAgIGxpc3RlbmluZyA9IHRydWU7XHJcbiAgICB9LCBmYWxzZSk7XHJcbiAgICBCYW5uZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGlmIChsaXN0ZW5pbmcpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgQmVuZFggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYO1xyXG4gICAgICAgICAgICBCZW5kWSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFk7XHJcbiAgICAgICAgICAgICQoJy5zbGlkZXJCYW5uZXIgdWwnKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgJ3RyYW5zaXRpb24nOiAndHJhbnNmb3JtIDBzIGVhc2UtaW4tb3V0JyxcclxuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlM0QoJyArIChCZW5kWCAtIEJzdGFyWCkgKyAncHgsMCwwKSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgZmFsc2UpO1xyXG4gICAgQmFubmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGlmIChsaXN0ZW5pbmcpIHtcclxuICAgICAgICAgICAgYXV0b01vdmUoKTtcclxuICAgICAgICAgICAgaWYgKEJzdGFyWCAhPSBCZW5kWCkge1xyXG4gICAgICAgICAgICAgICAgdG91Y2hNb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sIGZhbHNlKTtcclxufSlcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
