"use strict";$(function(){function e(){var e;clearInterval(v),v=setInterval(function(){e=f+1,e=e>$(".sliderBanner ol li").length-1?0:e,$(".sliderBanner ol li").eq(e).addClass("active").siblings().removeClass("active"),n(e,!1)},3e3)}function n(e,n){i(n,e,$(".sliderBanner ol li").length-1),clearTimeout(c),c=setTimeout(function(){s(e,$(".sliderBanner ol li").length-1)},600)}function i(e,n,i){if(n-f>1)n-f!=i||e?(l=n-1,o=f,u=n):(l=i,o=f,u=f+1);else if(-1>n-f)n-f!=-i||e?(l=n,o=f,u=n+1):(l=f-1,o=f,u=0);else if(n>f)l=0>=f?i:0,o=f,u=n;else{if(!(f>n))return;l=n,o=f,u=f>=i?0:i}t(l,o,u),a(e,n,f)}function s(e,n){0>=e?(l=n,o=e,u=e+1):e>=n?(l=e-1,o=e,u=0):(l=e-1,o=e,u=e+1),t(l,o,u),f=e}function t(e,n,i){$(".sliderBanner ul").css({transition:"transform 0s ease-in-out",transform:"translate3D(0,0,0)"}),$(".sliderBanner ul li").eq(e).addClass("prev").siblings().removeClass("prev"),$(".sliderBanner ul li").eq(n).addClass("active").siblings().removeClass("active"),$(".sliderBanner ul li").eq(i).addClass("next").siblings().removeClass("next")}function a(e,n,i){m=!0,d=n>i?"-100%":"100%",e||(d=0==n&&f==$(".sliderBanner ol li").length-1?"-100%":d,d=n==$(".sliderBanner ol li").length-1&&0==f?"100%":d),$(".sliderBanner ul").css({transition:"transform .6s ease-in-out",transform:"translate3D("+d+",0,0)"}),setTimeout(function(){m=!1},700)}function r(){var e;h-B>20?(autoIndex=f-1,autoIndex=autoIndex<0?$(".sliderBanner ol li").length-1:autoIndex,$(".sliderBanner ol li").eq(autoIndex).addClass("active").siblings().removeClass("active"),n(autoIndex,!1)):-20>h-B?(e=f+1,e=e>$(".sliderBanner ol li").length-1?0:e,$(".sliderBanner ol li").eq(e).addClass("active").siblings().removeClass("active"),n(e,!1)):$(".sliderBanner ul").css({transition:"transform .6s ease-in-out",transform:"translate3D(0,0,0)"})}var l,o,u,d,c,v,f=$(".sliderBanner ol li.active").index(),m=!1;e(),$(".sliderBanner").mouseover(function(){clearInterval(v)}).mouseout(function(){e()}),$(".sliderBanner ol li").click(function(){if(!m){var e=$(this).index();$(this).addClass("active").siblings().removeClass("active"),n(e,!0)}});var B,g,h,x,C;$(".sliderBanner").mousedown(function(e){e.preventDefault(),m||(B=h=e.originalEvent.x||e.originalEvent.layerX||0,g=x=e.originalEvent.y||e.originalEvent.layerY||0,C=!0)}),$(".sliderBanner").mouseup(function(e){C&&(r(),C=!1)}),$(".sliderBanner").mouseleave(function(e){C&&(r(),C=!1)}),$(".sliderBanner").mousemove(function(e){C&&(h=e.originalEvent.x||e.originalEvent.layerX||0,x=e.originalEvent.y||e.originalEvent.layerY||0,$(".sliderBanner ul").css({transition:"transform 0s ease-in-out",transform:"translate3D("+(h-B)+"px,0,0)"}))});var E=document.getElementById("sliderBanner");E.addEventListener("touchstart",function(e){m||(clearInterval(v),B=h=e.touches[0].clientX,g=x=e.touches[0].clientY,C=!0)},!1),E.addEventListener("touchmove",function(e){C&&(e.preventDefault(),h=e.changedTouches[0].clientX,x=e.changedTouches[0].clientY,$(".sliderBanner ul").css({transition:"transform 0s ease-in-out",transform:"translate3D("+(h-B)+"px,0,0)"}))},!1),E.addEventListener("touchend",function(n){C&&(e(),B!=h&&(r(),C=!1))},!1)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhbm5lci5qcyJdLCJuYW1lcyI6WyIkIiwiYXV0b01vdmUiLCJhdXRvSW5kZXgiLCJjbGVhckludGVydmFsIiwidGltZXJCIiwic2V0SW50ZXJ2YWwiLCJjdXJyZW50IiwibGVuZ3RoIiwiZXEiLCJhZGRDbGFzcyIsInNpYmxpbmdzIiwicmVtb3ZlQ2xhc3MiLCJkb0Z1biIsImluZGV4IiwiaXNCb29sIiwidmlld1NsaWRlciIsImNsZWFyVGltZW91dCIsInRpbWVyQSIsInNldFRpbWVvdXQiLCJyZW5kZXJTbGlkZXIiLCJpc2Jvb2wiLCJpbmRleFZhbHVlIiwibWF4SW5kZXgiLCJwcmV2SW5kZXgiLCJhY3RpdmVJbmRleCIsIm5leHRJbmRleCIsInVwZGF0YUNsYXNzIiwibW92ZVNsaWRlciIsImluZGV4UmVuZGVyIiwicHJldlVwIiwiYWN0aXZlVXAiLCJuZXh0VXAiLCJjc3MiLCJ0cmFuc2l0aW9uIiwidHJhbnNmb3JtIiwiaW5kZXhNb3ZlIiwiY3VycmVudE1vdmUiLCJpc01vdmUiLCJzdGVwIiwidG91Y2hNb3ZlIiwidG91Y2hJbmRleCIsIkJlbmRYIiwiQnN0YXJYIiwibW91c2VvdmVyIiwibW91c2VvdXQiLCJjbGljayIsImJJbmRleCIsInRoaXMiLCJCc3RhclkiLCJCZW5kWSIsImxpc3RlbmluZyIsIm1vdXNlZG93biIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIm9yaWdpbmFsRXZlbnQiLCJ4IiwibGF5ZXJYIiwieSIsImxheWVyWSIsIm1vdXNldXAiLCJtb3VzZWxlYXZlIiwibW91c2Vtb3ZlIiwiQmFubmVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsImNoYW5nZWRUb3VjaGVzIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFBQSxHQUFFLFdBc0JFLFFBQVNDLEtBQ0wsR0FBSUMsRUFDSkMsZUFBY0MsR0FDZEEsRUFBU0MsWUFBWSxXQUNq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LG9CQUFvQmdDLEtBQ2xCQyxXQUFjLDJCQUNkQyxVQUFhLGdCQUFrQk8sRUFBUUMsR0FBVSxjQXlCN0QsSUFBSW9CLEdBQVNDLFNBQVNDLGVBQWUsZUFDckNGLEdBQU9HLGlCQUFpQixhQUFjLFNBQVNDLEdBQ3ZDN0IsSUFDSmxDLGNBQWNDLEdBQ2RzQyxFQUFTRCxFQUFReUIsRUFBTUMsUUFBUSxHQUFHQyxRQUNsQ3BCLEVBQVNDLEVBQVFpQixFQUFNQyxRQUFRLEdBQUdFLFFBQ2xDbkIsR0FBWSxLQUNiLEdBQ0hZLEVBQU9HLGlCQUFpQixZQUFhLFNBQVNDLEdBQ3RDaEIsSUFDQWdCLEVBQU1iLGlCQUNOWixFQUFReUIsRUFBTUksZUFBZSxHQUFHRixRQUNoQ25CLEVBQVFpQixFQUFNSSxlQUFlLEdBQUdELFFBQ2hDckUsRUFBRSxvQkFBb0JnQyxLQUNsQkMsV0FBYywyQkFDZEMsVUFBYSxnQkFBa0JPLEVBQVFDLEdBQVUsZUFHMUQsR0FDSG9CLEVBQU9HLGlCQUFpQixXQUFZLFNBQVNDLEdBQ3JDaEIsSUFDQWpELElBQ0l5QyxHQUFVRCxJQUNWRixJQUNBVyxHQUFZLE1BR3JCIiwiZmlsZSI6ImJhbm5lci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGN1cnJlbnQgPSAkKCcuc2xpZGVyQmFubmVyIG9sIGxpLmFjdGl2ZScpLmluZGV4KCksXHJcbiAgICAgICAgcHJldkluZGV4LFxyXG4gICAgICAgIGFjdGl2ZUluZGV4LFxyXG4gICAgICAgIG5leHRJbmRleCxcclxuICAgICAgICBzdGVwLFxyXG4gICAgICAgIHRpbWVyQSxcclxuICAgICAgICB0aW1lckIsXHJcbiAgICAgICAgaXNNb3ZlID0gZmFsc2U7XHJcbiAgICBhdXRvTW92ZSgpO1xyXG4gICAgJCgnLnNsaWRlckJhbm5lcicpLm1vdXNlb3ZlcihmdW5jdGlvbigpIHtcclxuICAgICAgICBjbGVhckludGVydmFsKHRpbWVyQik7XHJcbiAgICB9KS5tb3VzZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICBhdXRvTW92ZSgpO1xyXG4gICAgfSk7XHJcbiAgICAkKCcuc2xpZGVyQmFubmVyIG9sIGxpJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKGlzTW92ZSkgcmV0dXJuO1xyXG4gICAgICAgIHZhciBiSW5kZXggPSAkKHRoaXMpLmluZGV4KCk7XHJcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgZG9GdW4oYkluZGV4LCB0cnVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGF1dG9Nb3ZlKCkge1xyXG4gICAgICAgIHZhciBhdXRvSW5kZXg7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lckIpO1xyXG4gICAgICAgIHRpbWVyQiA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBhdXRvSW5kZXggPSBjdXJyZW50ICsgMTtcclxuICAgICAgICAgICAgYXV0b0luZGV4ID0gKGF1dG9JbmRleCA+ICQoJy5zbGlkZXJCYW5uZXIgb2wgbGknKS5sZW5ndGggLSAxKSA/IDAgOiBhdXRvSW5kZXg7XHJcbiAgICAgICAgICAgICQoJy5zbGlkZXJCYW5uZXIgb2wgbGknKS5lcShhdXRvSW5kZXgpLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgZG9GdW4oYXV0b0luZGV4LCBmYWxzZSk7XHJcbiAgICAgICAgfSwgMzAwMClcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkb0Z1bihpbmRleCwgaXNCb29sKSB7XHJcbiAgICAgICAgdmlld1NsaWRlcihpc0Jvb2wsIGluZGV4LCAkKCcuc2xpZGVyQmFubmVyIG9sIGxpJykubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyQSk7XHJcbiAgICAgICAgdGltZXJBID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmVuZGVyU2xpZGVyKGluZGV4LCAkKCcuc2xpZGVyQmFubmVyIG9sIGxpJykubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgfSwgNjAwKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB2aWV3U2xpZGVyKGlzYm9vbCwgaW5kZXhWYWx1ZSwgbWF4SW5kZXgpIHtcclxuICAgICAgICBpZiAoaW5kZXhWYWx1ZSAtIGN1cnJlbnQgPiAxKSB7XHJcbiAgICAgICAgICAgIGlmIChpbmRleFZhbHVlIC0gY3VycmVudCA9PSBtYXhJbmRleCAmJiAhaXNib29sKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2SW5kZXggPSBtYXhJbmRleDtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUluZGV4ID0gY3VycmVudDtcclxuICAgICAgICAgICAgICAgIG5leHRJbmRleCA9IGN1cnJlbnQgKyAxO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcHJldkluZGV4ID0gaW5kZXhWYWx1ZSAtIDE7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVJbmRleCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICBuZXh0SW5kZXggPSBpbmRleFZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleFZhbHVlIC0gY3VycmVudCA8IC0xKSB7XHJcbiAgICAgICAgICAgIGlmIChpbmRleFZhbHVlIC0gY3VycmVudCA9PSAtbWF4SW5kZXggJiYgIWlzYm9vbCkge1xyXG4gICAgICAgICAgICAgICAgcHJldkluZGV4ID0gY3VycmVudCAtIDE7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVJbmRleCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgICAgICBuZXh0SW5kZXggPSAwO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcHJldkluZGV4ID0gaW5kZXhWYWx1ZTtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUluZGV4ID0gY3VycmVudDtcclxuICAgICAgICAgICAgICAgIG5leHRJbmRleCA9IGluZGV4VmFsdWUgKyAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleFZhbHVlID4gY3VycmVudCkge1xyXG4gICAgICAgICAgICBwcmV2SW5kZXggPSAoY3VycmVudCA8PSAwKSA/IG1heEluZGV4IDogMDtcclxuICAgICAgICAgICAgYWN0aXZlSW5kZXggPSBjdXJyZW50O1xyXG4gICAgICAgICAgICBuZXh0SW5kZXggPSBpbmRleFZhbHVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXhWYWx1ZSA8IGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgcHJldkluZGV4ID0gaW5kZXhWYWx1ZTtcclxuICAgICAgICAgICAgYWN0aXZlSW5kZXggPSBjdXJyZW50O1xyXG4gICAgICAgICAgICBuZXh0SW5kZXggPSAoY3VycmVudCA+PSBtYXhJbmRleCkgPyAwIDogbWF4SW5kZXg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1cGRhdGFDbGFzcyhwcmV2SW5kZXgsIGFjdGl2ZUluZGV4LCBuZXh0SW5kZXgpO1xyXG4gICAgICAgIG1vdmVTbGlkZXIoaXNib29sLCBpbmRleFZhbHVlLCBjdXJyZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW5kZXJTbGlkZXIoaW5kZXhSZW5kZXIsIG1heEluZGV4KSB7XHJcbiAgICAgICAgaWYgKGluZGV4UmVuZGVyIDw9IDApIHtcclxuICAgICAgICAgICAgcHJldkluZGV4ID0gbWF4SW5kZXg7XHJcbiAgICAgICAgICAgIGFjdGl2ZUluZGV4ID0gaW5kZXhSZW5kZXI7XHJcbiAgICAgICAgICAgIG5leHRJbmRleCA9IGluZGV4UmVuZGVyICsgMTtcclxuICAgICAgICB9IGVsc2UgaWYgKGluZGV4UmVuZGVyID49IG1heEluZGV4KSB7XHJcbiAgICAgICAgICAgIHByZXZJbmRleCA9IGluZGV4UmVuZGVyIC0gMTtcclxuICAgICAgICAgICAgYWN0aXZlSW5kZXggPSBpbmRleFJlbmRlcjtcclxuICAgICAgICAgICAgbmV4dEluZGV4ID0gMDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwcmV2SW5kZXggPSBpbmRleFJlbmRlciAtIDE7XHJcbiAgICAgICAgICAgIGFjdGl2ZUluZGV4ID0gaW5kZXhSZW5kZXI7XHJcbiAgICAgICAgICAgIG5leHRJbmRleCA9IGluZGV4UmVuZGVyICsgMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXBkYXRhQ2xhc3MocHJldkluZGV4LCBhY3RpdmVJbmRleCwgbmV4dEluZGV4KTtcclxuICAgICAgICBjdXJyZW50ID0gaW5kZXhSZW5kZXI7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRhQ2xhc3MocHJldlVwLCBhY3RpdmVVcCwgbmV4dFVwKSB7XHJcbiAgICAgICAgJCgnLnNsaWRlckJhbm5lciB1bCcpLmNzcyh7XHJcbiAgICAgICAgICAgICd0cmFuc2l0aW9uJzogJ3RyYW5zZm9ybSAwcyBlYXNlLWluLW91dCcsXHJcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlM0QoMCwwLDApJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJy5zbGlkZXJCYW5uZXIgdWwgbGknKS5lcShwcmV2VXApLmFkZENsYXNzKCdwcmV2Jykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygncHJldicpO1xyXG4gICAgICAgICQoJy5zbGlkZXJCYW5uZXIgdWwgbGknKS5lcShhY3RpdmVVcCkuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQoJy5zbGlkZXJCYW5uZXIgdWwgbGknKS5lcShuZXh0VXApLmFkZENsYXNzKCduZXh0Jykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnbmV4dCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1vdmVTbGlkZXIoaXNib29sLCBpbmRleE1vdmUsIGN1cnJlbnRNb3ZlKSB7XHJcbiAgICAgICAgaXNNb3ZlID0gdHJ1ZTtcclxuICAgICAgICBzdGVwID0gaW5kZXhNb3ZlID4gY3VycmVudE1vdmUgPyAnLTEwMCUnIDogJzEwMCUnO1xyXG4gICAgICAgIGlmICghaXNib29sKSB7XHJcbiAgICAgICAgICAgIHN0ZXAgPSAoaW5kZXhNb3ZlID09IDAgJiYgY3VycmVudCA9PSAkKCcuc2xpZGVyQmFubmVyIG9sIGxpJykubGVuZ3RoIC0gMSkgPyAnLTEwMCUnIDogc3RlcDtcclxuICAgICAgICAgICAgc3RlcCA9IChpbmRleE1vdmUgPT0gJCgnLnNsaWRlckJhbm5lciBvbCBsaScpLmxlbmd0aCAtIDEgJiYgY3VycmVudCA9PSAwKSA/ICcxMDAlJyA6IHN0ZXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJy5zbGlkZXJCYW5uZXIgdWwnKS5jc3Moe1xyXG4gICAgICAgICAgICAndHJhbnNpdGlvbic6ICd0cmFuc2Zvcm0gLjZzIGVhc2UtaW4tb3V0JyxcclxuICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUzRCgnICsgc3RlcCArICcsMCwwKSdcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpc01vdmUgPSBmYWxzZTtcclxuICAgICAgICB9LCA3MDApO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBCc3RhclgsXHJcbiAgICAgICAgQnN0YXJZLFxyXG4gICAgICAgIEJlbmRYLFxyXG4gICAgICAgIEJlbmRZLFxyXG4gICAgICAgIGxpc3RlbmluZztcclxuICAgICQoJy5zbGlkZXJCYW5uZXInKS5tb3VzZWRvd24oZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBpZiAoaXNNb3ZlKSByZXR1cm47XHJcbiAgICAgICAgQnN0YXJYID0gQmVuZFggPSBlLm9yaWdpbmFsRXZlbnQueCB8fCBlLm9yaWdpbmFsRXZlbnQubGF5ZXJYIHx8IDA7XHJcbiAgICAgICAgQnN0YXJZID0gQmVuZFkgPSBlLm9yaWdpbmFsRXZlbnQueSB8fCBlLm9yaWdpbmFsRXZlbnQubGF5ZXJZIHx8IDA7XHJcbiAgICAgICAgbGlzdGVuaW5nID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgJCgnLnNsaWRlckJhbm5lcicpLm1vdXNldXAoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmIChsaXN0ZW5pbmcpIHtcclxuICAgICAgICAgICAgdG91Y2hNb3ZlKCk7XHJcbiAgICAgICAgICAgIGxpc3RlbmluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgJCgnLnNsaWRlckJhbm5lcicpLm1vdXNlbGVhdmUoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmIChsaXN0ZW5pbmcpIHtcclxuICAgICAgICAgICAgdG91Y2hNb3ZlKCk7XHJcbiAgICAgICAgICAgIGxpc3RlbmluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgJCgnLnNsaWRlckJhbm5lcicpLm1vdXNlbW92ZShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYgKGxpc3RlbmluZykge1xyXG4gICAgICAgICAgICBCZW5kWCA9IGUub3JpZ2luYWxFdmVudC54IHx8IGUub3JpZ2luYWxFdmVudC5sYXllclggfHwgMDtcclxuICAgICAgICAgICAgQmVuZFkgPSBlLm9yaWdpbmFsRXZlbnQueSB8fCBlLm9yaWdpbmFsRXZlbnQubGF5ZXJZIHx8IDA7XHJcbiAgICAgICAgICAgICQoJy5zbGlkZXJCYW5uZXIgdWwnKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgJ3RyYW5zaXRpb24nOiAndHJhbnNmb3JtIDBzIGVhc2UtaW4tb3V0JyxcclxuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlM0QoJyArIChCZW5kWCAtIEJzdGFyWCkgKyAncHgsMCwwKSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gdG91Y2hNb3ZlKCkge1xyXG4gICAgICAgIHZhciB0b3VjaEluZGV4O1xyXG4gICAgICAgIGlmICgoQmVuZFggLSBCc3RhclgpID4gMjApIHtcclxuICAgICAgICAgICAgYXV0b0luZGV4ID0gY3VycmVudCAtIDE7XHJcbiAgICAgICAgICAgIGF1dG9JbmRleCA9IChhdXRvSW5kZXggPCAwKSA/ICQoJy5zbGlkZXJCYW5uZXIgb2wgbGknKS5sZW5ndGggLSAxIDogYXV0b0luZGV4O1xyXG4gICAgICAgICAgICAkKCcuc2xpZGVyQmFubmVyIG9sIGxpJykuZXEoYXV0b0luZGV4KS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGRvRnVuKGF1dG9JbmRleCwgZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoKEJlbmRYIC0gQnN0YXJYKSA8IC0yMCkge1xyXG4gICAgICAgICAgICB0b3VjaEluZGV4ID0gY3VycmVudCArIDE7XHJcbiAgICAgICAgICAgIHRvdWNoSW5kZXggPSAodG91Y2hJbmRleCA+ICQoJy5zbGlkZXJCYW5uZXIgb2wgbGknKS5sZW5ndGggLSAxKSA/IDAgOiB0b3VjaEluZGV4O1xyXG4gICAgICAgICAgICAkKCcuc2xpZGVyQmFubmVyIG9sIGxpJykuZXEodG91Y2hJbmRleCkuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICBkb0Z1bih0b3VjaEluZGV4LCBmYWxzZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCgnLnNsaWRlckJhbm5lciB1bCcpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAndHJhbnNpdGlvbic6ICd0cmFuc2Zvcm0gLjZzIGVhc2UtaW4tb3V0JyxcclxuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlM0QoMCwwLDApJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIEJhbm5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbGlkZXJCYW5uZXInKTtcclxuICAgIEJhbm5lci5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGlmIChpc01vdmUpIHJldHVybjtcclxuICAgICAgICBjbGVhckludGVydmFsKHRpbWVyQik7XHJcbiAgICAgICAgQnN0YXJYID0gQmVuZFggPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFg7XHJcbiAgICAgICAgQnN0YXJZID0gQmVuZFkgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFk7XHJcbiAgICAgICAgbGlzdGVuaW5nID0gdHJ1ZTtcclxuICAgIH0sIGZhbHNlKTtcclxuICAgIEJhbm5lci5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGxpc3RlbmluZykge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBCZW5kWCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFg7XHJcbiAgICAgICAgICAgIEJlbmRZID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WTtcclxuICAgICAgICAgICAgJCgnLnNsaWRlckJhbm5lciB1bCcpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAndHJhbnNpdGlvbic6ICd0cmFuc2Zvcm0gMHMgZWFzZS1pbi1vdXQnLFxyXG4gICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUzRCgnICsgKEJlbmRYIC0gQnN0YXJYKSArICdweCwwLDApJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LCBmYWxzZSk7XHJcbiAgICBCYW5uZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGxpc3RlbmluZykge1xyXG4gICAgICAgICAgICBhdXRvTW92ZSgpO1xyXG4gICAgICAgICAgICBpZiAoQnN0YXJYICE9IEJlbmRYKSB7XHJcbiAgICAgICAgICAgICAgICB0b3VjaE1vdmUoKTtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSwgZmFsc2UpO1xyXG59KVxyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
